<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Reset password</title></head>
<body style="font-family:Inter,system-ui;display:flex;align-items:center;justify-content:center;height:100vh;background:#071428;color:#fff">
  <div style="width:360px;padding:24px;background:rgba(255,255,255,0.03);border-radius:12px">
    <h3>Reset password</h3>
    <p>Enter the email you used to sign up. We'll send a link to reset your password.</p>
    <input id="email" placeholder="Email" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff">
    <button id="send" style="margin-top:10px;padding:10px 14px;border-radius:8px;background:#5fe3bf;border:0;cursor:pointer">Send reset link</button>
    <div id="msg" style="margin-top:8px;color:#ffb3b3"></div>
  </div>

<script>
document.getElementById('send').addEventListener('click', async ()=>{
  const email = document.getElementById('email').value.trim();
  const msg = document.getElementById('msg');
  msg.textContent='';
  if(!email){ msg.textContent='Enter your email'; return; }
  try{
    const res = await fetch('/api/reset-request',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({email})});
    const j = await res.json();
    if(res.ok){ msg.style.color='lightgreen'; msg.textContent=j.message || 'If an account exists, we sent a link.'; }
    else { msg.style.color='#ffb3b3'; msg.textContent=j.error || 'Failed'; }
  }catch(e){ msg.style.color='#ffb3b3'; msg.textContent='Network error'; }
});
</script>
</body>
</html>
